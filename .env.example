# Real Estate OS - Environment Configuration
# Copy to .env and fill in actual values (never commit .env!)

# ============================================================================
# DATABASE
# ============================================================================
DB_DSN=postgresql://postgres:postgres@localhost:5432/real_estate_os
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ============================================================================
# OBJECT STORAGE (MinIO / S3)
# ============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_PACKETS=packets
MINIO_BUCKET_MODELS=models

# ============================================================================
# VECTOR DATABASE (Qdrant)
# ============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=property_embeddings

# ============================================================================
# MESSAGE QUEUE (RabbitMQ)
# ============================================================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# ============================================================================
# REDIS (Caching & Session)
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true
API_LOG_LEVEL=info

# ============================================================================
# AUTHENTICATION (JWT)
# ============================================================================
# Option 1: Self-hosted JWT
JWT_SECRET=your-secret-key-min-32-chars-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440

# Option 2: Auth0 (if using)
# AUTH0_DOMAIN=your-tenant.auth0.com
# AUTH0_AUDIENCE=https://api.real-estate-os.com
# AUTH0_CLIENT_ID=your-client-id
# AUTH0_CLIENT_SECRET=your-client-secret

# ============================================================================
# EMAIL PROVIDERS
# ============================================================================
# SendGrid
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=deals@yourcompany.com
SENDGRID_FROM_NAME=Your Company

# Mailgun (alternative)
# MAILGUN_API_KEY=
# MAILGUN_DOMAIN=mg.yourcompany.com

# ============================================================================
# DATA PROVIDERS
# ============================================================================
# ATTOM Data API
ATTOM_API_KEY=
ATTOM_API_URL=https://api.attomdata.com/property/v4
ATTOM_COST_PER_CALL_CENTS=5

# Regrid API
REGRID_API_KEY=
REGRID_API_URL=https://app.regrid.com/api/v1
REGRID_COST_PER_CALL_CENTS=3

# Google Maps Geocoding
GOOGLE_MAPS_API_KEY=
GOOGLE_MAPS_COST_PER_CALL_CENTS=1

# ============================================================================
# FEATURE FLAGS (per-tenant overridable)
# ============================================================================
# Data sources
FEATURE_FLAG_DATASOURCE_ATTOM=false
FEATURE_FLAG_DATASOURCE_REGRID=false
FEATURE_FLAG_DATASOURCE_OPENADDRESSES=true

# Channels
FEATURE_FLAG_CHANNEL_EMAIL=true
FEATURE_FLAG_CHANNEL_SMS=false
FEATURE_FLAG_CHANNEL_POSTAL=false

# Features
FEATURE_FLAG_RLS_ENABLED=false
FEATURE_FLAG_MEMO_GENERATION=true
FEATURE_FLAG_OUTREACH=true
FEATURE_FLAG_QDRANT=false

# ============================================================================
# POLICY KERNEL (Cost Caps & Quotas)
# ============================================================================
POLICY_DAILY_COST_CAP_CENTS=10000
POLICY_DAILY_QUOTA_ATTOM=1000
POLICY_DAILY_QUOTA_REGRID=1500
POLICY_DAILY_QUOTA_GEOCODING=2000

# ============================================================================
# OBSERVABILITY
# ============================================================================
# Prometheus metrics endpoint
METRICS_ENABLED=true

# Sentry error tracking
# SENTRY_DSN=

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# AIRFLOW (Orchestration)
# ============================================================================
AIRFLOW_HOME=/opt/airflow
AIRFLOW_WEBSERVER_PORT=8080
AIRFLOW_EXECUTOR=CeleryExecutor

# ============================================================================
# DEVELOPMENT
# ============================================================================
DEBUG=false
RELOAD=false
TESTING=false

# ============================================================================
# TENANT CONFIGURATION (Default)
# ============================================================================
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000000
DEFAULT_TENANT_NAME=Default Tenant
